{"transformerGVQ": {

	"transformationDescription": {
		
		"namespaceMappings": {
			"mapping": [
				{"prefix": "gmd", "namespace": "http://www.isotc211.org/2005/gmd"},
				{"prefix": "gvq", "namespace": "http://www.geoviqua.org/QualityInformationModel/3.1"},
				{"prefix": "gmd19157", "namespace": "http://www.geoviqua.org/gmd19157"}
			]
		},

		"facetDescriptions": {
			
			"producerComments": {
				"availabilityPath": "//*[local-name()='dataQualityInfo']//*[local-name()='GVQ_DiscoveredIssue']/*[local-name()='knownProblem']",
				"hoverover": {
					"template": "",
					"supplementalInformation": "",
					"knownProblemsPath": "//*[local-name()='dataQualityInfo']//*[local-name()='GVQ_DiscoveredIssue']/*[local-name()='knownProblem']"
				},
				"drilldown": {
					"url": "http://www.geolabel.net/api/v1/drilldown?metadata=%s&facet=producer_comments"
				}
			},
			
			"qualityInformation": {
				"availabilityPath": "//*[local-name()='dataQualityInfo']/*[local-name()='GVQ_DataQuality']",
				"hoverover": {
					"template": "",
					"scopeLevelPath": "//*[local-name()='dataQualityInfo']/*[local-name()='GVQ_DataQuality']/*[local-name()='scope']//*[local-name()='MD_ScopeCode']/@codeListValue"
				},
				"drilldown": {
					"url": "http://www.geolabel.net/api/v1/drilldown?metadata=%s&facet=quality_information"
				}
			},
			
			"userFeedback": {
				"availabilityPath": "//*[local-name()='GVQ_FeedbackCollection']/*[local-name()='summary']/*[local-name()='feedbackItemsByExpertiseLevel']/*[local-name()='category'][*[local-name()='value'][text()='1' or text()='2' or text()='3']]",
				
				"hoverover": {
					"template": "",
					"feedbackFull": {
						"feedbacksCountPath": "count(//gvq:item/gvq:user[gvq:expertiseLevel < 4] | //gvq:item/gvq:user[not(gvq:expertiseLevel[text()])] | //gvq:item[not(gvq:user[node()])])",
						"ratingsCountPath": "count(//gvq:item/gvq:user[gvq:expertiseLevel < 4]/../gvq:rating/gvq:score | //gvq:item/gvq:user[not(gvq:expertiseLevel[text()])]/../gvq:rating/gvq:score | //gvq:item[not(gvq:user[node()])]/gvq:rating/gvq:score)",
						"averageRatingPath": "avg(//gvq:item/gvq:user[gvq:expertiseLevel < 4]/../gvq:rating/gvq:score | //gvq:item/gvq:user[not(gvq:expertiseLevel[text()])]/../gvq:rating/gvq:score | //gvq:item[not(gvq:user[node()])]/gvq:rating/gvq:score)"
					},
					"feedbackSummary": {
						"feedbacksCountPath": "count(//gvq:item/gvq:user[gvq:expertiseLevel < 4] | //gvq:item/gvq:user[not(gvq:expertiseLevel[text()])] | //gvq:item[not(gvq:user[node()])])",
						"ratingsCountPath": "count(//gvq:item/gvq:user[gvq:expertiseLevel < 4]/../gvq:rating/gvq:score | //gvq:item/gvq:user[not(gvq:expertiseLevel[text()])]/../gvq:rating/gvq:score | //gvq:item[not(gvq:user[node()])]/gvq:rating/gvq:score)",
						"averageRatingPath": "avg(//gvq:item/gvq:user[gvq:expertiseLevel < 4]/../gvq:rating/gvq:score | //gvq:item/gvq:user[not(gvq:expertiseLevel[text()])]/../gvq:rating/gvq:score | //gvq:item[not(gvq:user[node()])]/gvq:rating/gvq:score)"
					}
				},
				"drilldown": {
					"url": "http://www.geolabel.net/api/v1/drilldown?metadata=%s&facet=user_feedback"
				}
			},
			
			"expertReview": {
				"availabilityPath": "//*[local-name()='GVQ_FeedbackCollection']/*[local-name()='summary']/*[local-name()='feedbackItemsByExpertiseLevel']/*[local-name()='category'][*[local-name()='value'][text()='2' or text()='5']",
				"hoverover": {
					"template": "",
					"reviewFull": {
						"feedbacksCountPath": "count(//gvq:item/gvq:user[gvq:expertiseLevel < 4] | //gvq:item/gvq:user[not(gvq:expertiseLevel[text()])] | //gvq:item[not(gvq:user[node()])])",
						"ratingsCountPath": "count(//gvq:item/gvq:user[gvq:expertiseLevel < 4]/../gvq:rating/gvq:score | //gvq:item/gvq:user[not(gvq:expertiseLevel[text()])]/../gvq:rating/gvq:score | //gvq:item[not(gvq:user[node()])]/gvq:rating/gvq:score)",
						"averageRatingPath": "avg(//gvq:item/gvq:user[gvq:expertiseLevel < 4]/../gvq:rating/gvq:score | //gvq:item/gvq:user[not(gvq:expertiseLevel[text()])]/../gvq:rating/gvq:score | //gvq:item[not(gvq:user[node()])]/gvq:rating/gvq:score)"
					},
					"reviewSummary": {
						"feedbacksCountPath": "count(//gvq:item/gvq:user[gvq:expertiseLevel > 3])",
						"ratingsCountPath": "count(//gvq:item/gvq:user[gvq:expertiseLevel > 3]/../gvq:rating/gvq:score)",
						"averageRatingPath": "avg(//gvq:item/gvq:user[gvq:expertiseLevel > 3]/../gvq:rating/gvq:score)"
					}
				},
				"drilldown": {
					"url": "http://www.geolabel.net/api/v1/drilldown?metadata=%s&facet=expert_review"
				}
			},
			
			"citations": {
				"availabilityPath": "//*[local-name()='identificationInfo']/*[local-name()='GVQ_DataIdentification']/*[local-name()='referenceDoc']/*[local-name()='GVQ_Publication'] | //*[local-name()='identificationInfo']/*[local-name()='MD_DataIdentification']/*[local-name()='referenceDoc']/*[local-name()='GVQ_Publication'] | //*[local-name()='dataQualityInfo']/*[local-name()='GVQ_DataQuality']/*[local-name()='report']//*[local-name()='referenceDoc']/*[local-name()='GVQ_Publication'] | //*[local-name()='discoveredIssue']/*[local-name()='GVQ_DiscoveredIssue']//*[local-name()='referenceDoc']/*[local-name()='GVQ_Publication'] | //*[local-name()='item']/*[local-name()='citation'] | //*[local-name()='item']/*[local-name()='usage']//*[local-name()='referenceDoc']/*[local-name()='GVQ_Publication']",
				"hoverover": {
					"template": "",
					"citationsCountPath": "count(//*[local-name()='identificationInfo']/*[local-name()='GVQ_DataIdentification']/*[local-name()='referenceDoc']/*[local-name()='GVQ_Publication'] | //*[local-name()='identificationInfo']/*[local-name()='MD_DataIdentification']/*[local-name()='referenceDoc']/*[local-name()='GVQ_Publication'] | //*[local-name()='dataQualityInfo']/*[local-name()='GVQ_DataQuality']/*[local-name()='report']//*[local-name()='referenceDoc']/*[local-name()='GVQ_Publication'] | //*[local-name()='discoveredIssue']/*[local-name()='GVQ_DiscoveredIssue']//*[local-name()='referenceDoc']/*[local-name()='GVQ_Publication'] | //*[local-name()='item']/*[local-name()='citation'] | //*[local-name()='item']/*[local-name()='usage']//*[local-name()='referenceDoc']/*[local-name()='GVQ_Publication'])"
				},
				"drilldown": {
					"url": "http://www.geolabel.net/api/v1/drilldown?metadata=%s&facet=citations"
				}
			}
		}
	}}
}